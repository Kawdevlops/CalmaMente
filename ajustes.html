<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajustes - CalmaMente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="./css/calmamente.css">
</head>

<body>
    <div class="container-fluid container-int">
          <header class="row header-caixa py-3">
            <div class="col-12 d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <img src="img/logo.jpg" alt="Logo CalmaMente" class="me-2 rounded-circle">
                    <h1 class="titulo-header m-1" style="text-align: center;">Ajustes</h1>
                </div>
                <div class="caixa-usuario">
                    <span id="nome-usuario-header" class="me-5">Olá!</span>
                </div>
            </div>
        </header>

        <main class="mt-4">
            <div class="card blocos-dados">
                <div class="card-body">
                    <h2 class="card-title titulo-blocos">Seus Dados</h2>
                    <div class="mb-3">
                        <label for="nomeUsuario" class="form-label" style="color: var(--cor-primaria);">Seu nome</label>
                        <input type="text" class="form-control" id="nomeUsuario">
                    </div>
                    <div class="mb-3">
                        <label for="contatoApoio" class="form-label" style="color: var(--cor-primaria);">Nome do Contato
                            de Apoio</label>
                        <input type="text" class="form-control" id="contatoApoio">
                    </div>
                    <div class="mb-3">
                        <label for="telefoneApoio" class="form-label" style="color: var(--cor-primaria);">Telefone do
                            Contato de Apoio</label>
                        <input type="tel" class="form-control" id="telefoneApoio">
                    </div>
                    <button id="btnSalvarAjustes" class="btn w-100 mt-3"
                        style="background-color: var(--cor-sucesso); color: white;">Salvar Alterações</button>
                </div>
            </div>
            <div class="card blocos-dados mt-3">
                <div class="card-body">
                    <h2 class="card-title titulo-blocos">Zona de Perigo</h2>
                    <button id="btnLimparDados" class="btn btn-danger w-100">Apagar Todos os Dados e Recomeçar</button>
                </div>
            </div>
        </main>

        <nav class="navbar fixed-bottom neuro-navbar">
            <div class="w-100 d-flex justify-content-around">
                <a href="index.html" class="neuro-nav-item"><i class="fas fa-home"></i><span>Início</span></a>
                <a href="rotina.html" class="neuro-nav-item"><i class="fas fa-check-circle"></i><span>Rotina</span></a>
                <a href="humor.html" class="neuro-nav-item"><i class="fas fa-smile"></i><span>Humor</span></a>
                <a href="ajustes.html" class="neuro-nav-item active"><i class="fas fa-cog"></i><span>Ajustes</span></a>
            </div>
        </nav>
    </div>

    <script>
        const inputNome = document.getElementById('nomeUsuario');
        const inputContato = document.getElementById('contatoApoio');
        const inputTelefone = document.getElementById('telefoneApoio');
        const btnSalvar = document.getElementById('btnSalvarAjustes');
        const btnLimpar = document.getElementById('btnLimparDados');

        // Carrega os dados existentes
        inputNome.value = localStorage.getItem('usuarioNome') || '';
        inputContato.value = localStorage.getItem('contatoApoioNome') || '';
        inputTelefone.value = localStorage.getItem('contatoApoioTelefone') || '';

        // Salva as alterações
        btnSalvar.addEventListener('click', () => {
            localStorage.setItem('usuarioNome', inputNome.value);
            localStorage.setItem('contatoApoioNome', inputContato.value);
            localStorage.setItem('contatoApoioTelefone', inputTelefone.value);
            alert('Dados atualizados com sucesso!');
        });

        // Limpa todos os dados
        btnLimpar.addEventListener('click', () => {
            if (confirm('Você tem certeza? Todos os seus dados serão apagados e você voltará para a tela de cadastro.')) {
                localStorage.clear();
                alert('Dados apagados.');
                window.location.href = 'cadastro.html';
            }
        });
    </script>
</body>

</html>